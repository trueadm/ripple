import { describe, it, expect } from 'vitest';
import { compile } from 'ripple/compiler';

describe('server exports', () => {
  it('should handle all kinds of exports', () => {
    const source = `
        export const a = 1;
        export let b = 2;
        export var c = 3;
        export const { d, e: f } = { d: 4, e: 5 };

        export function g() {}
        export class h {}

        const i = 9;
        export { i };

        export * from './re-export.js';
        export { a as a2 } from './re-export.js';

        export default 'default-export';
    `;

    const result = compile(source, 'exports.test.ripple', { mode: 'server' });

    expect(result.js.code).toMatchSnapshot()
  });
});
